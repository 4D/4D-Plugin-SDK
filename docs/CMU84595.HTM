<!DOCTYPE html>
<html>
 <head>
  <title>
   PA_ReturnBlob
  </title>
  <link href="favicon.gif" rel="icon" type="image/gif"/>
 </head>
 <body bgcolor="#FAFAFA" link="#008108" vlink="#008108">
  <p>
   <h2>
    PA_ReturnBlob
   </h2>
  </p>
<table>
 <tr>
  <td>
   <a href="http://www.4d.com">
    <img src="menu/4D.GIF" type="image/gif"/>
   </a>
  </td>
  <td>
   <a href="index.html">
    <img src="menu/THM.png" type="image/png"/>
   </a>
  </td>
  <td>
   <a href="XKALPUSA.HTM">
    <img src="menu/ALPHA.png" type="image/png"/>
   </a>
  </td>
 </tr>
</table>
<hr/>
  <p>
   version 2003
  </p>
  <hr/>
  <p>
   PA_ReturnBlob (params; blob; len)
  </p>
  <p>
   <table border="0" cellpadding="0" cellspacing="0" width="100%">
    <tr>
     <td align="LEFT" valign="TOP" width="20%">
      <b>
       Parameter
      </b>
     </td>
     <td align="LEFT" valign="TOP" width="15%">
      <b>
       Type
      </b>
     </td>
     <td align="LEFT" valign="TOP" width="5%">
      <b>
      </b>
     </td>
     <td align="LEFT" valign="TOP" width="60%">
      <b>
       Description
      </b>
     </td>
    </tr>
    <tr>
     <td align="LEFT" valign="TOP" width="20%">
      params
     </td>
     <td align="LEFT" valign="TOP" width="15%">
      PA_PluginParameters
     </td>
     <td align="LEFT" valign="TOP" width="5%">
      →
     </td>
     <td align="LEFT" valign="TOP" width="60%">
      Parameters received in PluginMain
     </td>
    </tr>
    <tr>
     <td align="LEFT" valign="TOP" width="20%">
      blob
     </td>
     <td align="LEFT" valign="TOP" width="15%">
      void*
     </td>
     <td align="LEFT" valign="TOP" width="5%">
      →
     </td>
     <td align="LEFT" valign="TOP" width="60%">
      Pointer to the BLOB data to be returned
     </td>
    </tr>
    <tr>
     <td align="LEFT" valign="TOP" width="20%">
      len
     </td>
     <td align="LEFT" valign="TOP" width="15%">
      long
     </td>
     <td align="LEFT" valign="TOP" width="5%">
      →
     </td>
     <td align="LEFT" valign="TOP" width="60%">
      BLOB size in bytes
     </td>
    </tr>
   </table>
  </p>
  <b>
   <p>
    Description
   </p>
  </b>
  <p>
   The routine
   <code>
    <font color="#CF0000">
     PA_ReturnBlob
    </font>
   </code>
   sets the returned value of the plug-in routine to the data pointed to by the handle
   <code>
    blob
   </code>
   . After the call,
   <code>
    blob
   </code>
   still belongs to the plug-in and you can dispose of it.
  </p>
  <p>
   Be sure that the BLOB is duplicated to the result value with this call. You can dispose of it once you have finished working with it. If you simply want to return the handle itself without duplicating the BLOB data, use
   <code>
    <a href="CMU84590.HTM">
     PA_ReturnBlobHandle
    </a>
   </code>
   .
  </p>
  <p>
   See
   <code>
    Create a new plug-in
   </code>
   for a description of returned values accessors.
  </p>
  <b>
   <p>
    Example
   </p>
  </b>
  <p>
   Create, fill (with "1"), and return a BLOB.
  </p>
  <p>
  </p>
  <pre><code>   void ReturnBasicBlob(PluginParameters params)
   {
      char   *buffer;
      long   size;
 
      buffer = malloc(1024);
      if(buffer)
      {
         for(i = 0; i &lt; 1024;i++)
            *buffer++ = (char)1;
      // Return the blob
         PA_ReturnBlob(params, buffer, size);
      // We can (and should once finished with it) free the BLOB here
         free (buffer);
      }
   }
</code></pre>
  <b>
   <p>
    See Also
   </p>
  </b>
  <p>
   <a href="CMU84821.HTM">
    Create a new plugin
   </a>
   ,
   <a href="CMU84590.HTM">
    PA_ReturnBlobHandle
   </a>
   .
  </p>
  <b>
   <p>
    Error Handling
   </p>
  </b>
  <p>
   None.
  </p>
 </body>
</html>